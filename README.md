# 🎯 城市射击游戏

一个基于Three.js开发的第一人称3D射击游戏，具有完整的武器系统、敌人AI、粒子特效和音效系统。

![游戏截图](https://via.placeholder.com/800x400/1a1a1a/ffffff?text=城市射击游戏)

## 🎮 游戏特色

### 🔫 武器系统
- **三种武器**：手枪、步枪、狙击枪
- **真实弹道**：不同武器有不同的精度和伤害
- **弹药管理**：有限弹药，需要寻找补给箱

### 👾 敌人系统
- **自定义贴图**：使用kenan角色作为敌人
- **两阶段战斗**：敌人血量降低时会变强
- **智能AI**：敌人会追踪玩家位置

### 🎯 瞄准系统
- **多种准星**：每种武器有独特的瞄准镜
- **10倍瞄准镜**：按E键开启高倍瞄准镜（开发中）
- **距离显示**：实时显示到目标的距离

### 🌆 城市场景
- **3D城市**：完整的城市环境
- **地形起伏**：山丘、岩石等地形元素
- **动态光照**：真实的光影效果

## 🎮 游戏控制

| 按键 | 功能 |
|------|------|
| **WASD** | 移动 |
| **空格** | 跳跃 |
| **鼠标** | 转向瞄准 |
| **左键** | 射击 |
| **1, 2, 3** | 切换武器 |
| **R** | 重新装弹 |
| **E** | 瞄准镜 |
| **ESC** | 菜单 |

## 🚀 快速开始

### 环境要求
- Node.js (用于HTTP服务器)
- 现代浏览器 (支持WebGL)

### 安装运行
```bash
# 1. 克隆或下载项目
cd cherry/code

# 2. 安装依赖
npm install

# 3. 启动本地服务器
npx http-server . -p 8080

# 4. 浏览器访问
# http://localhost:8080
```

### 游戏开始
1. 选择难度（简单/普通/困难）
2. 点击屏幕锁定鼠标指针
3. 开始射击！

## 🎯 游戏目标

- 🎯 **射击靶子**：绿色圆形靶子，获得分数
- 👾 **消灭敌人**：红色kenan角色，获得更多分数
- 📦 **收集弹药**：橙色弹药箱，补充弹药
- 💪 **生存挑战**：避免被敌人攻击，保持血量

## 🛠️ 技术架构

### 核心技术
- **Three.js** - 3D图形渲染引擎
- **Web Audio API** - 音效系统
- **HTML5 Canvas** - 游戏画布
- **ES6 Modules** - 模块化开发

### 文件结构
```
├── index.html          # 主游戏页面
├── game.js            # 核心游戏逻辑
├── audio.js           # 音效管理
├── effects.js         # 粒子特效
├── debug.js           # 调试工具
├── kenan.png          # 敌人贴图1
├── kenan2.png         # 敌人贴图2
└── package.json       # 项目配置
```

## 🎨 游戏特效

### 视觉效果
- ✨ **枪口火焰** - 射击时的火焰效果
- 💥 **爆炸特效** - 敌人死亡爆炸
- 🎯 **击中反馈** - 击中目标的粒子效果
- 💨 **烟雾效果** - 环境烟雾

### 音效系统
- 🔫 **射击音效** - 不同武器不同声音
- 💥 **击中音效** - 击中反馈声音
- 🔄 **装弹音效** - 重新装弹声音
- 🎵 **背景音乐** - 循环背景音乐

## 🐛 已知问题

### 当前Bug
- ❌ **鼠标视角控制失效** - 无法转动视角
- ❌ **指针锁定不稳定** - 鼠标锁定机制问题
- ❌ **瞄准镜功能异常** - E键瞄准镜无法正常工作

### 调试工具
- 按 **F1** 查看游戏状态
- 打开浏览器控制台查看错误日志
- 使用 `test.html` 测试单独功能

## 🔮 未来计划

### 短期目标
- 🔧 修复鼠标控制问题
- 🎯 完善瞄准镜系统
- 🎨 优化敌人贴图显示

### 长期目标
- 🏆 添加成就系统
- 🗺️ 多个关卡地图
- 🔫 更多武器类型
- 👥 多人游戏模式

## 📄 许可证

本项目仅供学习和演示使用。

## 🤝 贡献

欢迎提交Issue和Pull Request来改进游戏！

---

**享受游戏！** 🎮✨